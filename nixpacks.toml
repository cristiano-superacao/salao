[phases.setup]
# Use a recent Python and build essentials
nixPkgs = ["python311Full", "gcc", "postgresql"]

[phases.install]
cmds = [
	"python -m ensurepip --upgrade",
	"python -m pip install --upgrade pip",
	"python -m pip install -r requirements.txt",
]

[start]
cmd = "streamlit run app.py --server.port $PORT --server.address 0.0.0.0"

[variables]
PYTHONUNBUFFERED = "1"
